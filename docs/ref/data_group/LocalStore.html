---
title: LocalStore
layout: default
---

<h1>LocalStore</h1>

<code>
class LocalStore
    : public Object</code>

<p>
Extremely simple data storage concept.     </p>
<p>
As always, supporting the Web means making some non-obvious choices.IndexedDB is currently the standard web storage API, so Oaknut takes the basic idea and applies it to all platforms. The web implementation of LocalStore *is* IndexedDB, the non-web implementations are a tiny and very limited simulacrum that will be beefed up into something performant at some future date.Expected use is to have one LocalStore per persistable type, i.e. a class that implements `ISerializeToVariant`.NB: For simplicity's sake a primary key is mandatory, the key name must correspond to a variant field.     </p>
<h2></h2>

<table>
<table>

<h2></h2>

<table>
<tr><td><a href="class_local_store.html">LocalStore</a> * <a href="todo">create</a>(const <a href="classstring.html">string</a> & name, const <a href="classstring.html">string</a> & primaryKeyName)</td><td></td></tr>
<table>

<h2></h2>

<table>
<tr><td>void <a href="todo">open</a>(std::function< void()> callback)</td><td></td></tr>
<tr><td>void <a href="todo">close</a>()</td><td></td></tr>
<tr><td>void <a href="todo">flush</a>()</td><td></td></tr>
<tr><td>void <a href="todo">getCount</a>(std::function< void(int)> success)</td><td></td></tr>
<tr><td>void <a href="todo">getAll</a>(std::function< void(<a href="classvariant.html">variant</a> *)> success)</td><td></td></tr>
<tr><td>void <a href="todo">getOne</a>(const <a href="classvariant.html">variant</a> & primaryKeyVal, std::function< void(<a href="classvariant.html">variant</a> *)> success)</td><td></td></tr>
<tr><td>void <a href="todo">remove</a>(const <a href="classvariant.html">variant</a> & primaryKeyVal, std::function< void(void)> callback)</td><td></td></tr>
<tr><td>void <a href="todo">put</a>(<a href="class_i_serialize_to_variant.html">ISerializeToVariant</a> * object, std::function< void(void)> callback)</td><td></td></tr>
<table>

<h2></h2>

<table>
<tr><td> <a href="todo">LocalStore</a>(const <a href="classstring.html">string</a> & name, const <a href="classstring.html">string</a> & primaryKeyName)</td><td></td></tr>
<table>

<h1>Methods</h1>

<h3>create</h3>
<code><a href="class_local_store.html">LocalStore</a> * <a href="todo">create</a>(const <a href="classstring.html">string</a> & name, const <a href="classstring.html">string</a> & primaryKeyName)</code><p></p>

<h3>open</h3>
<code>void <a href="todo">open</a>(std::function< void()> callback)</code><p></p>

<h3>close</h3>
<code>void <a href="todo">close</a>()</code><p></p>

<h3>flush</h3>
<code>void <a href="todo">flush</a>()</code><p></p>

<h3>getCount</h3>
<code>void <a href="todo">getCount</a>(std::function< void(int)> success)</code><p></p>

<h3>getAll</h3>
<code>void <a href="todo">getAll</a>(std::function< void(<a href="classvariant.html">variant</a> *)> success)</code><p></p>

<h3>getOne</h3>
<code>void <a href="todo">getOne</a>(const <a href="classvariant.html">variant</a> & primaryKeyVal, std::function< void(<a href="classvariant.html">variant</a> *)> success)</code><p></p>

<h3>remove</h3>
<code>void <a href="todo">remove</a>(const <a href="classvariant.html">variant</a> & primaryKeyVal, std::function< void(void)> callback)</code><p></p>

<h3>put</h3>
<code>void <a href="todo">put</a>(<a href="class_i_serialize_to_variant.html">ISerializeToVariant</a> * object, std::function< void(void)> callback)</code><p></p>

<h3>LocalStore</h3>
<code> <a href="todo">LocalStore</a>(const <a href="classstring.html">string</a> & name, const <a href="classstring.html">string</a> & primaryKeyName)</code><p></p>

